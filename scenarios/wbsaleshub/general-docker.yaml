name: WBSalesHub 일반 테스트 (Docker(PRD))
slug: general-docker
description: Railway 배포 전 필수 항목 빠른 체크 (4개 항목)
type: GENERAL
environment: docker
timeout: 180000
notify_on:
  - failure
  - recovery
variables:
  SALESHUB_URL: http://158.180.95.246:3070
steps:
  - name: 'Test 1: Health Check'
    type: http
    method: GET
    url: '{{SALESHUB_URL}}/api/health'
    expect:
      status: 200
      json:
        success: true
    timeout: 10000
  - name: 'Test 2: 데이터베이스 연결 - 고객 목록 조회'
    type: http
    method: GET
    url: '{{SALESHUB_URL}}/api/customers'
    expect:
      status: 200
      json:
        success: true
        data: '@array'
    timeout: 15000
  - name: 'Test 3: API 엔드포인트 - 제품 목록'
    type: http
    method: GET
    url: '{{SALESHUB_URL}}/api/products'
    expect:
      status: 200
      json:
        success: true
    timeout: 15000
  - name: 'Test 4: Frontend 접근 - 메인 페이지'
    type: http
    method: GET
    url: '{{SALESHUB_URL}}/'
    expect:
      status: 200
      headers:
        content-type: '@contains:text/html'
    timeout: 15000
