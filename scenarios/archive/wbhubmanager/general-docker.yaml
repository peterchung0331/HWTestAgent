name: WBHubManager 일반 테스트 (Docker(PRD))
slug: general-docker
description: Railway 배포 전 필수 항목 빠른 체크 (4개 항목)
type: GENERAL
environment: docker
timeout: 180000
notify_on:
  - failure
  - recovery
variables:
  TARGET_URL: http://158.180.95.246:3090
steps:
  - name: 'Test 1: Health Check'
    type: http
    method: GET
    url: '{{TARGET_URL}}/api/health'
    expect:
      status: 200
      json:
        success: true
    timeout: 10000
  - name: 'Test 2: 환경변수 검증 - Public Key 존재'
    type: http
    method: GET
    url: '{{TARGET_URL}}/api/auth/public-key'
    expect:
      status: 200
      json:
        success: true
        data:
          publicKey: '@string'
    timeout: 10000
  - name: 'Test 3: 데이터베이스 연결 - Hub 목록 조회'
    type: http
    method: GET
    url: '{{TARGET_URL}}/api/hubs'
    expect:
      status: 200
      json:
        success: true
        data: '@array'
    timeout: 15000
  - name: 'Test 4: Frontend 접근 - 메인 페이지'
    type: http
    method: GET
    url: '{{TARGET_URL}}/'
    expect:
      status: 200
      headers:
        content-type: '@contains:text/html'
    timeout: 15000
